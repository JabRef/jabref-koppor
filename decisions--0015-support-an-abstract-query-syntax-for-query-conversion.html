<!DOCTYPE html><html lang="en-US"><head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet" disabled=""> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(16)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(16) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(4) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(16) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list > li.nav-list-item:nth-child(16) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/images/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Query syntax design | Developer Documentation</title> <meta name="generator" content="Jekyll v4.3.4"> <meta property="og:title" content="Query syntax design"> <meta property="og:locale" content="en_US"> <meta name="description" content="Graphical Java application for managing BibTeX and BibLaTeX (.bib) databases"> <meta property="og:description" content="Graphical Java application for managing BibTeX and BibLaTeX (.bib) databases"> <link rel="canonical" href="/decisions/0015-support-an-abstract-query-syntax-for-query-conversion.html"> <meta property="og:url" content="/decisions/0015-support-an-abstract-query-syntax-for-query-conversion.html"> <meta property="og:site_name" content="Developer Documentation"> <meta property="og:type" content="website"> <meta name="twitter:card" content="summary"> <meta property="twitter:title" content="Query syntax design"> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Graphical Java application for managing BibTeX and BibLaTeX (.bib) databases","headline":"Query syntax design","url":"/decisions/0015-support-an-abstract-query-syntax-for-query-conversion.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"></path> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"></path> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Developer Documentation </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Overview on Developing JabRef</a></li><li class="nav-list-item"><a href="/contributing.html" class="nav-list-link">Contributing</a></li><li class="nav-list-item"><a href="/teaching.html" class="nav-list-link">JabRef and Software Engineering Training</a></li><li class="nav-list-item active"><button class="nav-list-expander btn-reset" aria-label="toggle items in Decision Records category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/decisions/" class="nav-list-link">Decision Records</a><ul class="nav-list"><li class="nav-list-item"><a href="/decisions/0000-use-markdown-architectural-decision-records.html" class="nav-list-link">Use Markdown Architectural Decision Records</a></li><li class="nav-list-item"><a href="/decisions/0001-use-crowdin-for-translations.html" class="nav-list-link">Use Crowdin for translations</a></li><li class="nav-list-item"><a href="/decisions/0002-use-slf4j-for-logging.html" class="nav-list-link">Use SLF4J together with log4j2 for logging</a></li><li class="nav-list-item"><a href="/decisions/0003-use-gradle-as-build-tool.html" class="nav-list-link">Use Gradle as build tool</a></li><li class="nav-list-item"><a href="/decisions/0004-use-mariadb-connector.html" class="nav-list-link">Use MariaDB Connector</a></li><li class="nav-list-item"><a href="/decisions/0005-fully-support-utf8-only-for-latex-files.html" class="nav-list-link">Fully Support UTF-8 Only For LaTeX Files</a></li><li class="nav-list-item"><a href="/decisions/0006-only-translated-strings-in-language-file.html" class="nav-list-link">Only translated strings in language file</a></li><li class="nav-list-item"><a href="/decisions/0007-human-readable-changelog.html" class="nav-list-link">Provide a human-readable changelog</a></li><li class="nav-list-item"><a href="/decisions/0008-use-public-final-instead-of-getters.html" class="nav-list-link">Use public final instead of getters to offer access to immutable variables</a></li><li class="nav-list-item"><a href="/decisions/0009-use-plain-junit5-for-testing.html" class="nav-list-link">Use Plain JUnit5 for advanced test assertions</a></li><li class="nav-list-item"><a href="/decisions/0010-use-h2-as-internal-database.html" class="nav-list-link">Use H2 as Internal SQL Database</a></li><li class="nav-list-item"><a href="/decisions/0011-test-external-links-in-documentation.html" class="nav-list-link">Test external links in documentation</a></li><li class="nav-list-item"><a href="/decisions/0012-handle-different-bibEntry-formats-of-fetchers.html" class="nav-list-link">Handle different bibentry formats of fetchers by adding a layer</a></li><li class="nav-list-item"><a href="/decisions/0013-add-native-support-biblatex-software.html" class="nav-list-link">Add Native Support for BibLatex-Software</a></li><li class="nav-list-item"><a href="/decisions/0014-separate-URL-creation-to-enable-proper-logging.html" class="nav-list-link">Separate URL creation to enable proper logging</a></li><li class="nav-list-item active"><a class="nav-list-link active">Query syntax design</a></li><li class="nav-list-item"><a href="/decisions/0016-mutable-preferences-objects.html" class="nav-list-link">Mutable preferences objects</a></li><li class="nav-list-item"><a href="/decisions/0017-allow-model-access-logic.html" class="nav-list-link">Allow org.jabref.model to access org.jabref.logic</a></li><li class="nav-list-item"><a href="/decisions/0018-use-regular-expression-to-split-multiple-sentence-titles.html" class="nav-list-link">Use regular expression to split multiple-sentence titles</a></li><li class="nav-list-item"><a href="/decisions/0019-implement-special-fields-as-separate-fields.html" class="nav-list-link">Implement special fields as separate fields</a></li><li class="nav-list-item"><a href="/decisions/0020-use-Jackson-to-parse-study-yml.html" class="nav-list-link">Use Jackson to parse study.yml</a></li><li class="nav-list-item"><a href="/decisions/0021-keep-study-as-a-dto.html" class="nav-list-link">Keep study as a DTO</a></li><li class="nav-list-item"><a href="/decisions/0022-remove-stop-words-during-query-transformation.html" class="nav-list-link">Remove stop words during query transformation</a></li><li class="nav-list-item"><a href="/decisions/0023-localized-preferences.html" class="nav-list-link">Localized Preferences</a></li><li class="nav-list-item"><a href="/decisions/0024-use-%23-as-indicator-for-BibTeX-string-constants.html" class="nav-list-link">Use # as indicator for BibTeX string constants</a></li><li class="nav-list-item"><a href="/decisions/0025-reviewdog-reviews.html" class="nav-list-link">Reviewdog findings are code reviews</a></li><li class="nav-list-item"><a href="/decisions/0026-use-jna-to-determine-default-directory.html" class="nav-list-link">Use Java Native Access to Determine Default Directory</a></li><li class="nav-list-item"><a href="/decisions/0032-store-chats-in-local-user-folder.html" class="nav-list-link">Store Chats Alongside Database</a></li><li class="nav-list-item"><a href="/decisions/0027-synchronization.html" class="nav-list-link">Synchronization with remote databases</a></li><li class="nav-list-item"><a href="/decisions/0033-store-chats-in-mvstore.html" class="nav-list-link">Store Chats in MVStore</a></li><li class="nav-list-item"><a href="/decisions/0028-http-return-bibtex-string.html" class="nav-list-link">Return BibTeX string and CSL Item JSON in the API</a></li><li class="nav-list-item"><a href="/decisions/0034-use-citation-key-for-grouping-chat-messages.html" class="nav-list-link">Use Citation Key for Grouping Chat Messages</a></li><li class="nav-list-item"><a href="/decisions/0029-cff-export-multiple-entries.html" class="nav-list-link">Exporting multiple entries to CFF</a></li><li class="nav-list-item"><a href="/decisions/0035-generate-embeddings-online.html" class="nav-list-link">Generate Embeddings Online</a></li><li class="nav-list-item"><a href="/decisions/0030-use-apache-commons-io-for-directory-monitoring.html" class="nav-list-link">Use Apache Commons IO for directory monitoring</a></li><li class="nav-list-item"><a href="/decisions/0036-use-textarea-for-chat-content.html" class="nav-list-link">Use TextArea for Chat Message Content</a></li><li class="nav-list-item"><a href="/decisions/0031-use-current-tab-for-deciding-style-type-for-oo.html" class="nav-list-link">Use currently active tab in Select style (OO Panel) to decide style type</a></li><li class="nav-list-item"><a href="/decisions/0037-rag-architecture-implementation.html" class="nav-list-link">RAG Architecture Implementation</a></li><li class="nav-list-item"><a href="/decisions/0042-use-webview-for-summarization-content.html" class="nav-list-link">Use WebView for Chat Message Content</a></li><li class="nav-list-item"><a href="/decisions/0038-use-entryId-for-bibentries.html" class="nav-list-link">Use BibEntry.getId for BibEntry at indexing</a></li><li class="nav-list-item"><a href="/decisions/0039-use-apache-velocity-as-template-engine.html" class="nav-list-link">Use Apache Velocity as template engine</a></li><li class="nav-list-item"><a href="/decisions/0040-display-front-cover-in-preview-tab.html" class="nav-list-link">Display front cover for book citations in the Preview tab</a></li><li class="nav-list-item"><a href="/decisions/0043-show-merge-dialog-when-importing-a-single-pdf.html" class="nav-list-link">Show merge dialog when importing a single PDF</a></li><li class="nav-list-item"><a href="/decisions/adr-template.html" class="nav-list-link">ADR Template</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Getting into the code category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/getting-into-the-code/" class="nav-list-link">Getting into the code</a><ul class="nav-list"><li class="nav-list-item"><a href="/getting-into-the-code/development-strategy.html" class="nav-list-link">JabRef’s development strategy</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Set up a local workspace category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/" class="nav-list-link">Set up a local workspace</a><ul class="nav-list"><li class="nav-list-item"><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/pre-01-github-account.html" class="nav-list-link">Pre Condition 1: GitHub Account</a></li><li class="nav-list-item"><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/pre-02-software.html" class="nav-list-link">Pre Condition 2: Required Software</a></li><li class="nav-list-item"><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/pre-03-code.html" class="nav-list-link">Pre Condition 3: Code on the local machine</a></li><li class="nav-list-item"><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/intellij-11-code-into-ide.html" class="nav-list-link">Step 1: Get the code into IntelliJ</a></li><li class="nav-list-item"><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/intellij-12-build.html" class="nav-list-link">Step 2: Set up the build system: JDK and Gradle</a></li><li class="nav-list-item"><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/intellij-13-code-style.html" class="nav-list-link">Step 3: Set up JabRef’s code style</a></li><li class="nav-list-item"><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/intellij-89-run-with-intellij.html" class="nav-list-link">Advanced: Build and run using IntelliJ IDEA</a></li><li class="nav-list-item"><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/eclipse.html" class="nav-list-link">Advanced: Eclipse as IDE</a></li><li class="nav-list-item"><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/vscode.html" class="nav-list-link">Advanced: VS Code as IDE</a></li><li class="nav-list-item"><a href="/getting-into-the-code/guidelines-for-setting-up-a-local-workspace/trouble-shooting.html" class="nav-list-link">Trouble shooting</a></li></ul></li><li class="nav-list-item"><a href="/getting-into-the-code/high-level-documentation.html" class="nav-list-link">High-level documentation</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Code Howtos category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/code-howtos/" class="nav-list-link">Code Howtos</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in The LibreOffice Panel category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/code-howtos/openoffice/" class="nav-list-link">The LibreOffice Panel</a><ul class="nav-list"><li class="nav-list-item"><a href="/code-howtos/openoffice/overview.html" class="nav-list-link">Overview</a></li><li class="nav-list-item"><a href="/code-howtos/openoffice/order-of-appearance.html" class="nav-list-link">Order of appearance of citation groups</a></li><li class="nav-list-item"><a href="/code-howtos/openoffice/problems.html" class="nav-list-link">Problems</a></li><li class="nav-list-item"><a href="/code-howtos/openoffice/code-reorganization.html" class="nav-list-link">Code reorganization</a></li><li class="nav-list-item"><a href="/code-howtos/openoffice/ooresult-ooerror/" class="nav-list-link">About OOError, OOResult, and OOVoidResult</a></li><li class="nav-list-item"><a href="/code-howtos/openoffice/ooresult-ooerror/ooresult-alternatives.html" class="nav-list-link">Alternatives to using OOResult and OOVoidResult in OOBibBase</a></li></ul></li><li class="nav-list-item"><a href="/code-howtos/code-quality.html" class="nav-list-link">Code Quality</a></li><li class="nav-list-item"><a href="/code-howtos/custom-svg-icons.html" class="nav-list-link">Custom SVG icons</a></li><li class="nav-list-item"><a href="/code-howtos/error-handling.html" class="nav-list-link">Error Handling in JabRef</a></li><li class="nav-list-item"><a href="/code-howtos/eventbus.html" class="nav-list-link">Event Bus and Event System</a></li><li class="nav-list-item"><a href="/code-howtos/fetchers.html" class="nav-list-link">Fetchers</a></li><li class="nav-list-item"><a href="/code-howtos/faq.html" class="nav-list-link">Frequently Asked Questions (FAQ)</a></li><li class="nav-list-item"><a href="/code-howtos/http-server.html" class="nav-list-link">HTTP Server</a></li><li class="nav-list-item"><a href="/code-howtos/IntelliJ.html" class="nav-list-link">IntelliJ Hints</a></li><li class="nav-list-item"><a href="/code-howtos/jpackage.html" class="nav-list-link">JPackage: Creating a binary and debug it</a></li><li class="nav-list-item"><a href="/code-howtos/bibtex.html" class="nav-list-link">JabRef’s handling of BibTeX</a></li><li class="nav-list-item"><a href="/code-howtos/javafx.html" class="nav-list-link">JavaFX</a></li><li class="nav-list-item"><a href="/code-howtos/localization.html" class="nav-list-link">Localization</a></li><li class="nav-list-item"><a href="/code-howtos/logging.html" class="nav-list-link">Logging</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Remote Storage category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/code-howtos/remote-storage.html" class="nav-list-link">Remote Storage</a><ul class="nav-list"><li class="nav-list-item"><a href="/code-howtos/remote-storage-jabdrive.html" class="nav-list-link">Remote JabDrive storage</a></li><li class="nav-list-item"><a href="/code-howtos/remote-storage-sql.html" class="nav-list-link">Remote SQL Storage</a></li></ul></li><li class="nav-list-item"><a href="/code-howtos/testing.html" class="nav-list-link">Testing JabRef</a></li><li class="nav-list-item"><a href="/code-howtos/ui-recommendations.html" class="nav-list-link">UI Design Recommendations</a></li><li class="nav-list-item"><a href="/code-howtos/tools.html" class="nav-list-link">Useful development tooling</a></li><li class="nav-list-item"><a href="/code-howtos/xmp-parsing.html" class="nav-list-link">XMP Parsing</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Requirements category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/requirements/" class="nav-list-link">Requirements</a><ul class="nav-list"><li class="nav-list-item"><a href="/requirements/ai.html" class="nav-list-link">AI</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Developer Documentation" aria-label="Search Developer Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://gitter.im/JabRef/jabref" class="site-button"> Gitter Chat </a> </li> <li class="aux-nav-list-item"> <a href="https://discourse.jabref.org/" class="site-button"> Discussion Forum </a> </li> <li class="aux-nav-list-item"> <a href="https://github.com/jabref/jabref/" class="site-button"> Code Repository </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/decisions/">Decision Records</a></li> <li class="breadcrumb-nav-list-item"><span>Query syntax design</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="query-syntax-design"> <a href="#query-syntax-design" class="anchor-heading" aria-labelledby="query-syntax-design"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Query syntax design </h1> <h2 id="context-and-problem-statement"> <a href="#context-and-problem-statement" class="anchor-heading" aria-labelledby="context-and-problem-statement"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Context and Problem Statement </h2> <p>All libraries use their own query syntax for advanced search options. To increase usability, users should be able to formulate their (abstract) search queries in a query syntax that can be mapped to the library specific search queries. To achieve this, the query has to be parsed into an AST.</p> <p>Which query syntax should be used for the abstract queries? Which features should the syntax support?</p> <h2 id="considered-options"> <a href="#considered-options" class="anchor-heading" aria-labelledby="considered-options"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Considered Options </h2> <ul> <li>Use a simplified syntax that is derived of the <a href="https://lucene.apache.org/core/8_6_1/queryparser/org/apache/lucene/queryparser/classic/package-summary.html">lucene</a> query syntax</li> <li>Formulate a own query syntax</li> </ul> <h2 id="decision-outcome"> <a href="#decision-outcome" class="anchor-heading" aria-labelledby="decision-outcome"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Decision Outcome </h2> <p>Chosen option: “Use a syntax that is derived of the lucene query syntax”, because only option that is already known, and easy to implement. Furthermore parsers for lucene already exist and are tested. For simplicity, and lack of universal capabilities across fetchers, only basic query features and therefor syntax is supported:</p> <ul> <li>All terms in the query are whitespace separated and will be ANDed</li> <li>Default and certain fielded terms are supported</li> <li>Fielded Terms: <ul> <li><code class="language-plaintext highlighter-rouge">author</code></li> <li><code class="language-plaintext highlighter-rouge">title</code></li> <li><code class="language-plaintext highlighter-rouge">journal</code></li> <li><code class="language-plaintext highlighter-rouge">year</code> (for single year)</li> <li><code class="language-plaintext highlighter-rouge">year-range</code> (for range e.g. <code class="language-plaintext highlighter-rouge">year-range:2012-2015</code>)</li> </ul> </li> <li>The <code class="language-plaintext highlighter-rouge">journal</code>, <code class="language-plaintext highlighter-rouge">year</code>, and <code class="language-plaintext highlighter-rouge">year-range</code> fields should only be populated once in each query</li> <li>The <code class="language-plaintext highlighter-rouge">year</code> and <code class="language-plaintext highlighter-rouge">year-range</code> fields are mutually exclusive</li> <li>Example: <ul> <li><code class="language-plaintext highlighter-rouge">author:"Igor Steinmacher" author:"Christoph Treude" year:2017</code> will be converted to</li> <li><code class="language-plaintext highlighter-rouge">author:"Igor Steinmacher" AND author:"Christoph Treude" AND year:2017</code></li> </ul> </li> </ul> <p>The supported syntax can be expressed in EBNF as follows:</p> <p>Query := {Clause} <br> Clause:= [Field] Term <br> Field := author: | title: | journal: | year: | year-range: | default:<br> Term := Word | Phrase \</p> <p>Word can be derived to any series of non-whitespace characters. Phrases are multiple words wrapped in quotes and may contain white-space characters within the quotes.<br> Note: Even though this EBNF syntactically allows the creation of queries with year and year-range fields, such a query does not make sense semantically and therefore will not be executed.</p> <h3 id="positive-consequences"> <a href="#positive-consequences" class="anchor-heading" aria-labelledby="positive-consequences"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Positive Consequences </h3> <ul> <li>Already tested</li> <li>Well known</li> <li>Easy to implement</li> <li>Can use an existing parser</li> </ul> <h2 id="pros-and-cons-of-the-options"> <a href="#pros-and-cons-of-the-options" class="anchor-heading" aria-labelledby="pros-and-cons-of-the-options"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pros and Cons of the Options </h2> <h3 id="use-a-syntax-that-is-derived-of-the-lucene-query-syntax"> <a href="#use-a-syntax-that-is-derived-of-the-lucene-query-syntax" class="anchor-heading" aria-labelledby="use-a-syntax-that-is-derived-of-the-lucene-query-syntax"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Use a syntax that is derived of the lucene query syntax </h3> <ul> <li>Good, because already exists</li> <li>Good, because already well known</li> <li>Good, because there already exists a <a href="https://lucene.apache.org/core/8_0_0/queryparser/org/apache/lucene/queryparser/flexible/standard/StandardQueryParser.html">parser for lucene syntax</a></li> <li>Good, because capabilities of query conversion can easily be extended using the <a href="https://lucene.apache.org/core/8_0_0/queryparser/org/apache/lucene/queryparser/flexible/core/package-summary.html">flexible lucene framework</a></li> </ul> <h3 id="formulate-a-own-query-syntax"> <a href="#formulate-a-own-query-syntax" class="anchor-heading" aria-labelledby="formulate-a-own-query-syntax"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Formulate a own query syntax </h3> <ul> <li>Good, because allows for flexibility</li> <li>Bad, because needs a new parser (has to be decided whether to use <a href="https://www.antlr.org/">ANTLR</a>, <a href="https://javacc.github.io/javacc/">JavaCC</a>, or <a href="https://github.com/logic-ng/LogicNG">LogicNG</a>)</li> <li>Bad, because has to be tested</li> <li>Bad, because syntax is not well known</li> <li>Bad, because the design should be easily extensible, requires an appropriate design (high effort)</li> </ul> </main> <hr> <footer> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/jabref/jabref/edit/main/docs/decisions/0015-support-an-abstract-query-syntax-for-query-conversion.md" id="edit-this-page">Edit this page on GitHub.</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.4.3/dist/mermaid.min.js"></script> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script>  
</body></html>